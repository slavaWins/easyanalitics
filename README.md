<p align="center">
<img src="info/logo.png">
</p>

## EasyAnalitics

Кароч изи пакет для вывода и записи аналитики. Минималка.
Установить его проще чем отобрать у ребенка детсво с помощью php.
Есть генерация тестовых данных.

### Как на картинке!

В одну строчку сразу выводятся вьюшки-блоки как на картинке!
Без js пока что
Ставь, с кайфом сделано. Не надо в гугл аналитикс лезть и душнится.
Функций меньше чем 0, просто записать колв, инкрементировать, вывести.

## Установка

1) Установить из композера

```  
composer require slavawins/easyanalitics
```

2) Опубликовать вендоры. Просто запусти
   Вызывать команду:
   ```
   php artisan vendor:publish --provider="SlavaWins\EasyAnalitics\Providers\EasyAnaliticsServiceProvider"
   ``` 


3) Выполнить миграцию

 ```
    php artisan migrate 
 ```  

## Вывести красивую вьюшку со статистикой

В любом вью впишите это подключение

 ```
  @include("easyanalitics::example.example")
 ``` 

Так же вам в папку вью скопирован этот пример, можете из неё подключить так:

 ```
  @include("easyanalitics.example")
 ``` 

<BR>

## Тестовые данные

Запустите неск раз команду на создание тестовых данных. Оно создать аналитику и заполнит её на неск дней.

 ```
  php artisan easyanalitics:full
 ``` 

Эта штука заполнить уже имющиеся аналитики рандомными данными

 ```
  php artisan easyanalitics:full
 ``` 

# Использование

## Записать аналитику

Для записи данных всего одна функция

 ```
    EasyAnaliticsHelper::Increment("user_click_registration", 1, "Клик назад","Пользователь нажал кнопку назад, тут типа описание");
 ``` 

user_click_registration - индификатор, ключ. Под которым будет вестись статистика
1 - сколько нужно записать данных
"Клик назад" - как при выводе будет называться эта аналитика
"Описание" - описание аналитики
Дополнительный аргумент - Carbon дата на которую нужно сделать записть

Можно вызвать вот так. Оно просто +1 допишет.

 ```
    EasyAnaliticsHelper::Increment("user_click_registration");
 ``` 

# View - рендер аналитики

Делается изи, в одну строчку пишешь, и получаешь красивый блок со всем что к нему крепится на скрине

## Аналитика по одной модели

Просто ключ вписываем и получаем результат

 ```
 @include('easyanalitics::list',['ind' =>'user_click_registration'])
 @include('easyanalitics::last',['ind' =>'user_click_registration'])
 ``` 

## Воронка данных

Массивом записываете по порядку ключи по которым нужно собрать воронку и получаете отрендереную воронку.
Она выглядит тупо как квадраты, но задачу выполняет - можно понять где юзер уходит

 ```
@include("easyanalitics::voronka", ['inds'=>['user_new','user_tracking_frist','user_tracking_hist'],'name'=>"Воронка регистраций
 ``` 
